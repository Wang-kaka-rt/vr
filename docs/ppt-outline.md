# Godot MCP 示例游戏介绍（PPT素材）

## 1. 项目一句话简介

这是一个 Godot 4.x 的示例 3D 第三人称小游戏，用来演示如何通过 MCP（Model Context Protocol）把 Godot 工程“接入”AI 助手（以 Claude Desktop 为例），让 AI 能读取/修改脚本、场景、节点并执行编辑器相关操作。

## 2. 游戏概览（玩法）

- **类型**：第三人称 3D 动作 + 收集 + 生存
- **目标**：通过击败敌人、拾取掉落/道具累积分数并推进关卡
- **胜负条件**
  - 分数达到 500：胜利（显示 YOU WIN，3 秒后返回菜单）
  - 生命值归零：失败（显示 GAME OVER，可重开本关）

## 3. 操作说明（可直接放一页PPT）

- **移动**：W/A/S/D
- **跳跃**：Space
- **攻击**
  - 左键 或 J：主攻击（挥砍/武器攻击动画优先）
  - 右键 或 K：副攻击（拳击/徒手攻击动画优先）
- **镜头**：按住鼠标右键拖动旋转视角（第三人称跟随相机）

## 4. 核心数值与规则

### 4.1 生命值（HP）

- 玩家初始 **HP=100**
- 受到敌人攻击会扣血
- 通过拾取宝石回血：
  - 绿宝石：+10 HP
  - 蓝宝石：+20 HP

### 4.2 分数（Score）

来源主要有两类：

- **击杀敌人**：+50 分
- **拾取收集物**
  - 钱袋：+5 分
  - 金币堆：+10 分
  - 金箱：+20 分

### 4.3 关卡（Level）与进度

- Level 1：目标 100 分
- Level 2：达到 100 分进入；目标 200 分
- Level 3：达到 200 分进入；目标 500 分，并提示敌人更强
- 达到 500 分：胜利结算并返回菜单

## 5. 敌人系统（生成与AI）

- 场上维持约 **5 个敌人**（定期检查不足则补齐）
- 敌人行为：待机/随机游走/追击玩家，进入攻击范围后按冷却间隔攻击
- 有对象池/回收逻辑：离玩家过远会被“移出场景可见范围并禁用处理”，用于性能优化

## 6. 场景与脚本入口（讲解时最有用）

### 6.1 场景

- **主菜单**：`res://scenes/Menu.tscn`
  - 两段式 UI：开始页 → 角色选择页
  - 可选角色：Henry / Anne / CaptainBarbarossa
- **主关卡**：`res://scenes/Main.tscn`
  - 包含 Player、环境场景 ImportedScene、灯光与世界环境
- **敌人预制体**：`res://scenes/Enemies/*`
  - Mako、Skeleton、SkeletonHeadless

### 6.2 关键脚本（按“讲故事顺序”）

- `res://scripts/menu.gd`：菜单流程与角色选择（把选择写入全局变量）
- `res://scripts/Global.gd`：全局角色路径（选择的角色 glTF 路径）
- `res://scripts/main.gd`：主循环入口（UI、生成敌人/收集物、关卡推进、胜负结算）
- `res://scripts/player.gd`：玩家移动、跳跃、攻击、受击/死亡、分数与血量信号
- `res://scripts/enemy.gd`：敌人 AI（追击/攻击/受击/死亡给分）
- `res://scripts/collectible.gd`：收集物浮动旋转与拾取效果
- `res://scripts/third_person_camera.gd`：第三人称相机跟随与碰撞推近

## 7. MCP 是怎么接进来的（架构讲解稿）

### 7.1 组件分工

- **Claude Desktop（AI客户端）**
  - 负责对话与“决定调用哪些工具”
- **MCP Server（Node.js/TypeScript）**
  - 实现 MCP 协议，向 AI 客户端声明可用工具与资源
  - 把工具调用转发到 Godot（通过 WebSocket）
- **Godot Editor 插件（Addon，概念上）**
  - 在编辑器里启动 WebSocket Server（默认端口 9080）
  - 接收 JSON 命令并对场景/脚本/资源执行操作

### 7.2 一次调用的典型链路

1. AI 客户端发起 MCP 工具调用
2. MCP Server 执行工具逻辑，向 Godot WebSocket Server 发送命令（JSON）
3. Godot 执行命令并返回结果（JSON）
4. MCP Server 把结果整理成对 AI 友好的文本/结构化输出

## 8. 使用了哪些“模型”

这里的“模型”通常有两层含义：**AI 大模型**与**3D 美术模型**。

### 8.1 AI 大模型（LLM）

- 这个仓库的集成路径是“**Claude Desktop + MCP**”，文档与示例配置都以 Claude 为目标客户端。
- **仓库本身不固定具体的 Claude 模型版本**（例如 Sonnet/Haiku/Opus），模型由 Claude 客户端侧选择/切换。
- MCP Server 只是提供“工具与资源接口”，不直接在代码里调用某个 LLM API。

### 8.2 3D 美术模型（GLTF）

#### 环境模型

- `assets/场景/scene.gltf`
  - 信息与授权见：`assets/场景/license.txt`
  - 标注来源：Sketchfab “Free Low Poly Forest”，作者 purepoly，协议 CC-BY-4.0

#### 角色/敌人/道具模型（示例工程内引用到的）

- **可选玩家角色（菜单选择）**
  - `assets/人物/glTF/Characters_Henry.gltf`
  - `assets/人物/glTF/Characters_Anne.gltf`
  - `assets/人物/glTF/Characters_Captain_Barbarossa.gltf`
- **敌人**
  - `assets/人物/glTF/Characters_Mako.gltf`
  - `assets/人物/glTF/Characters_Skeleton.gltf`
  - `assets/人物/glTF/Characters_Skeleton_Headless.gltf`
- **收集物**
  - `assets/人物/glTF/Prop_GoldBag.gltf`
  - `assets/人物/glTF/Prop_Coins.gltf`
  - `assets/人物/glTF/Prop_Chest_Gold.gltf`
  - `assets/人物/glTF/UI_Gem_Green.gltf`
  - `assets/人物/glTF/UI_Gem_Blue.gltf`
- **场景摆件（主关卡脚本生成）**
  - `assets/人物/glTF/Environment_House1.gltf`
  - `assets/人物/glTF/Environment_House2.gltf`
  - `assets/人物/glTF/Environment_House3.gltf`

> 注：角色/道具 glTF 的来源与授权信息未在仓库中单独标注（环境场景模型有 license.txt）。

## 9. PPT 页结构建议（可直接照抄）

1. 封面：Godot MCP + 示例游戏（标题/作者/日期）
2. MCP 是什么：一句话 + 为什么需要（把 AI 变成“能操作工程的助手”）
3. 架构图：Claude Desktop ↔ MCP Server ↔ Godot Editor（WebSocket）
4. 示例游戏概览：类型/目标/胜负条件
5. 操作说明：WASD/Space/鼠标/攻击键位
6. 核心机制：敌人系统（追击/攻击/击杀得分）
7. 核心机制：收集物（概率/得分/回血）
8. 关卡推进：100→200→500（Level UI + 弹窗）
9. 资源与模型：AI 模型（不固定版本）+ 3D 模型来源（环境 CC-BY）
10. 总结：MCP 给 Godot 开发带来的效率点（自动化改脚本、生成节点、查问题）

## 10. 生态主题故事（与玩法对应）

### 10.1 世界观设定

远海有一座“绿潮岛”，曾经是森林与海湾共生的地方：红树林稳住海岸、海草床孕育鱼群、林地为鸟兽提供栖息。后来海盗把“财富”当成唯一目标，砍伐、开采、倾倒废料，岛上的生态网络被撕裂。失衡的夜里，沉船里的怨气与污染凝成“腐化潮”，把落在地表的金属与骨骸拼成了骷髅，把受惊的生灵扭曲成猎食者。白天看似仍是森林，夜里却被腐化生物巡游。

你选择扮演 Henry / Anne / CaptainBarbarossa 中的一位，作为“回头的航海者”。这次上岛不是为了掠夺，而是为了把散落的资源“回收归位”，修复生态链条，让岛重新具备自我恢复能力。

### 10.2 道具与分数的生态解释

- **钱袋 / 金币 / 金箱（加分）**：代表“被遗弃的掠夺成果”。拾取它们不是为了私藏，而是把可回收物、工具与资金集中起来，投入修复：清理垃圾、补植树种、修复栖息地。
- **绿宝石 / 蓝宝石（回血）**：代表“生态韧性”。当你找到仍存活的海草芽、红树林种子、淡水泉眼等关键资源，就像得到一次补给，让角色恢复体力与继续行动的能力。

### 10.3 敌人与关卡推进（对应游戏机制）

- **敌人（骷髅/怪物）**：是“腐化潮”的具象化。击败它们等于清除一处污染源或阻断一次破坏行为，防止生态继续恶化。
- **Level 1（目标 100）**：清理表层垃圾与散落物，恢复基本通行与安全。
- **Level 2（目标 200）**：建立修复据点，回收更多资源，开始让小范围生态复苏。
- **Level 3（目标 500，敌人更强）**：腐化潮反扑，敌人攻击更猛烈；你需要更快地回收、修复与防守。
- **胜利（500 分）**：当关键区域的生态链条重新连上，腐化潮失去“宿主”，岛屿恢复平衡；你撤回营地，准备把修复方案带到更多海岛。

### 10.4 旁白稿（60–90 秒，可直接念）

“这座岛叫绿潮岛。它曾经是森林和海湾互相支撑的地方：树根稳住海岸，海草孕育鱼群，林地为生灵提供栖息。但当人们只把财富当目标，砍伐、开采和倾倒让生态网络断裂。失衡之后，污染和怨气凝成了腐化潮，把沉船里的骨骸拼成骷髅，也把受惊的生灵扭曲成怪物。白天这里看起来仍像森林，夜里却被腐化生物占据。

你选择一位航海者上岛，不再掠夺，而是回收散落的资源。钱袋、金币和金箱代表被遗弃的掠夺成果，我们把它们集中起来投入修复；绿色和蓝色宝石象征岛仍残存的韧性，找到它们就像得到补给，让我们继续前进。每击败一个敌人，就等于清除一个污染源，阻止一次破坏。分数从 100 到 200 再到 500，不是贪婪的计数，而是修复进度：清理、建立据点、抵抗反扑，直到生态链条重新连上。最终，当分数达到 500，腐化潮失去宿主，岛屿恢复平衡，我们也带着方案离开，去修复下一座海岛。”
